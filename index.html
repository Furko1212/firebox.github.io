<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FireboxMC | GiriÅŸ</title>

<!-- Firebase (IMPORT YOK, COMPAT VAR) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<style>
body{
    margin:0;
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background:linear-gradient(135deg,#0f0f0f,#1a1a1a);
    font-family:Arial,Helvetica,sans-serif;
    color:#fff;
}
#box{
    width:380px;
    background:#111;
    padding:30px;
    border-radius:14px;
    box-shadow:0 0 30px rgba(0,0,0,.8);
}
h2{text-align:center;margin-bottom:20px}
input{
    width:100%;
    padding:12px;
    margin-bottom:12px;
    border:none;
    border-radius:8px;
    background:#1f1f1f;
    color:#fff;
}
button{
    width:100%;
    padding:12px;
    border:none;
    border-radius:8px;
    background:#ff7a00;
    color:#000;
    font-size:16px;
    cursor:pointer;
}
button:hover{background:#ffa133}
.switch{
    text-align:center;
    margin-top:10px;
    color:#aaa;
    cursor:pointer;
}
#error{
    text-align:center;
    color:#ff5555;
    margin-bottom:10px;
}
</style>
</head>

<body>

<div id="box">
    <h2>ðŸ”¥ FireboxMC</h2>
    <div id="error"></div>

    <input id="email" type="email" placeholder="Email">
    <input id="password" type="password" placeholder="Åžifre">
    <input id="password2" type="password" placeholder="Åžifre (Tekrar)" style="display:none">

    <button id="loginBtn">GiriÅŸ Yap</button>
    <button id="registerBtn" style="display:none">KayÄ±t Ol</button>

    <div class="switch" id="switchBtn">HesabÄ±n yok mu? KayÄ±t ol</div>
</div>

<script>
/* FIREBASE CONFIG â€” SENÄ°N ATTIKLARIN */
firebase.initializeApp({
  apiKey: "AIzaSyBsjuMnS6RiFPlfA4CgqkDve7EXoLlLbuE",
  authDomain: "firebox-e62b3.firebaseapp.com",
  projectId: "firebox-e62b3",
  storageBucket: "firebox-e62b3.firebasestorage.app",
  messagingSenderId: "1063315808941",
  appId: "1:1063315808941:web:30eff721cf4a01e7945c24"
});

const auth = firebase.auth();

let registerMode = false;

switchBtn.onclick = () => {
    registerMode = !registerMode;
    password2.style.display = registerMode ? "block" : "none";
    loginBtn.style.display = registerMode ? "none" : "block";
    registerBtn.style.display = registerMode ? "block" : "none";
    switchBtn.innerText = registerMode
        ? "Zaten hesabÄ±n var mÄ±? GiriÅŸ yap"
        : "HesabÄ±n yok mu? KayÄ±t ol";
    error.innerText = "";
};

registerBtn.onclick = () => {
    if(password.value !== password2.value){
        error.innerText = "Åžifreler uyuÅŸmuyor!";
        return;
    }
    auth.createUserWithEmailAndPassword(email.value,password.value)
    .then(u=>{
        u.user.sendEmailVerification();
        alert("DoÄŸrulama maili gÃ¶nderildi ðŸ“§");
        auth.signOut();
    })
    .catch(e=>error.innerText = e.message);
};

loginBtn.onclick = () => {
    auth.signInWithEmailAndPassword(email.value,password.value)
    .then(u=>{
        if(!u.user.emailVerified){
            error.innerText = "Email doÄŸrulanmamÄ±ÅŸ!";
            auth.signOut();
        }else{
            document.body.innerHTML = "<h1>âœ… GiriÅŸ baÅŸarÄ±lÄ±</h1><button onclick='logout()'>Ã‡Ä±kÄ±ÅŸ Yap</button>";
        }
    })
    .catch(()=>error.innerText="Email veya ÅŸifre hatalÄ±");
};

function logout(){
    auth.signOut().then(()=>location.reload());
}
</script>

</body>
</html>
