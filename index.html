<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FireboxMC</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyBsjuMnS6RiFPlfA4CgqkDve7EXoLlLbuE",
  authDomain: "firebox-e62b3.firebaseapp.com",
  projectId: "firebox-e62b3"
});
const auth = firebase.auth();
</script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:radial-gradient(circle at top,#1a1a1a,#000);
  color:white;
}

/* LOGIN */
#login, #site{
  min-height:100vh;
  display:none;
  align-items:center;
  justify-content:center;
}

#login-box{
  width:380px;
  background:#0b0b0b;
  padding:32px;
  border-radius:18px;
  box-shadow:0 0 35px rgba(255,140,0,0.35);
}

.logo{
  text-align:center;
  margin-bottom:15px;
}
.logo img{
  width:120px;
}

/* INPUTS */
input{
  width:100%;
  padding:12px;
  margin-bottom:12px;
  border:none;
  border-radius:8px;
  background:#1e1e1e;
  color:white;
  font-size:15px;
}
input::placeholder{color:#aaa}

/* BUTTON */
button{
  width:100%;
  padding:12px;
  background:linear-gradient(135deg,#ff8c00,#ff3300);
  border:none;
  border-radius:8px;
  color:white;
  font-size:16px;
  font-weight:bold;
  cursor:pointer;
}
button:hover{
  background:linear-gradient(135deg,#ffaa00,#ff5500);
}

.switch{
  text-align:center;
  margin-top:10px;
  color:#aaa;
  cursor:pointer;
}
.switch:hover{color:white}

#error{
  color:#ff6666;
  text-align:center;
  margin-bottom:10px;
}

/* SITE */
#site{
  flex-direction:column;
}

.nav{
  width:100%;
  position:fixed;
  top:0;
  left:0;
  background:#0b0b0b;
  padding:15px 25px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 0 15px rgba(255,140,0,.2);
}

.section{
  padding-top:120px;
  text-align:center;
}
</style>
</head>

<body>

<!-- ðŸ”’ LOGIN -->
<div id="login">
  <div id="login-box">
    <div class="logo">
      <img src="img/logo.png" alt="Firebox Logo">
    </div>

    <div id="error"></div>

    <input id="email" type="email" placeholder="Email">
    <input id="password" type="password" placeholder="Åžifre">
    <input id="password2" type="password" placeholder="Åžifre (Tekrar)" style="display:none">

    <button id="loginBtn">GiriÅŸ Yap</button>
    <button id="registerBtn" style="display:none">KayÄ±t Ol</button>

    <div class="switch" id="switchBtn">HesabÄ±n yok mu? KayÄ±t ol</div>
  </div>
</div>

<!-- ðŸ”“ SITE -->
<div id="site">
  <div class="nav">
    <strong>
      <span style="color:#ffaa00">Fire</span><span style="color:#ff3333">box</span>MC
    </strong>
    <button id="logoutBtn" style="width:auto;padding:8px 16px;">Ã‡Ä±kÄ±ÅŸ</button>
  </div>

  <div class="section">
    <h1>HoÅŸgeldin ðŸ”¥</h1>
    <p>IP: play.fireboxx.xyz</p>
    <p>TÃ¼rkiyeâ€™nin en iyi BoxMining sunucusu</p>
  </div>
</div>

<script>
let isRegister=false;

/* Switch */
switchBtn.onclick=()=>{
  isRegister=!isRegister;
  password2.style.display=isRegister?"block":"none";
  loginBtn.style.display=isRegister?"none":"block";
  registerBtn.style.display=isRegister?"block":"none";
  switchBtn.innerText=isRegister
    ?"Zaten hesabÄ±n var mÄ±? GiriÅŸ yap"
    :"HesabÄ±n yok mu? KayÄ±t ol";
  error.innerText="";
};

/* Register */
registerBtn.onclick=()=>{
  if(password.value!==password2.value){
    error.innerText="Åžifreler uyuÅŸmuyor";
    return;
  }
  auth.createUserWithEmailAndPassword(email.value,password.value)
  .then(u=>{
    u.user.sendEmailVerification();
    alert("Mail doÄŸrulama gÃ¶nderildi ðŸ“§");
    auth.signOut();
  })
  .catch(e=>error.innerText=e.message);
};

/* Login */
loginBtn.onclick=()=>{
  auth.signInWithEmailAndPassword(email.value,password.value)
  .catch(()=>error.innerText="Email veya ÅŸifre hatalÄ±");
};

/* Logout */
logoutBtn.onclick=()=>{
  auth.signOut();
};

/* Enter = GiriÅŸ / KayÄ±t */
document.addEventListener("keydown",e=>{
  if(e.key==="Enter"){
    isRegister ? registerBtn.click() : loginBtn.click();
  }
});

/* Auth State */
auth.onAuthStateChanged(user=>{
  if(user && user.emailVerified){
    login.style.display="none";
    site.style.display="flex";
  }else{
    site.style.display="flex";
    site.style.display="none";
    login.style.display="flex";
  }
});
</script>

</body>
</html>
