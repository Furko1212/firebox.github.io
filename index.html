<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FireboxMC</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyBsjuMnS6RiFPlfA4CgqkDve7EXoLlLbuE",
  authDomain: "firebox-e62b3.firebaseapp.com",
  projectId: "firebox-e62b3"
});
const auth = firebase.auth();
</script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0f0f0f;
  color:#fff;
}

#login, #site{
  min-height:100vh;
  display:none;
  align-items:center;
  justify-content:center;
}

#login-box{
  width:360px;
  background:#111;
  padding:30px;
  border-radius:14px;
}

input, button{
  width:100%;
  padding:12px;
  margin-bottom:10px;
  border:none;
  border-radius:8px;
}

input{
  background:#1e1e1e;
  color:white;
}

button{
  background:#ff3333;
  color:white;
  cursor:pointer;
}

.switch{
  text-align:center;
  color:#aaa;
  cursor:pointer;
}

#error{
  color:#ff6666;
  text-align:center;
  margin-bottom:10px;
}

.nav{
  width:100%;
  position:fixed;
  top:0;
  left:0;
  background:#111;
  padding:15px;
  display:flex;
  justify-content:space-between;
}
.section{
  padding-top:100px;
  text-align:center;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login">
  <div id="login-box">
    <h2 style="text-align:center">ðŸ”¥ FireboxMC</h2>
    <div id="error"></div>

    <input id="email" placeholder="Email">
    <input id="password" type="password" placeholder="Åžifre">
    <input id="password2" type="password" placeholder="Åžifre (Tekrar)" style="display:none">

    <button id="loginBtn">GiriÅŸ Yap</button>
    <button id="registerBtn" style="display:none">KayÄ±t Ol</button>

    <div class="switch" id="switchBtn">HesabÄ±n yok mu? KayÄ±t ol</div>
  </div>
</div>

<!-- SITE -->
<div id="site">
  <div class="nav">
    <strong>ðŸ”¥ FireboxMC</strong>
    <button id="logoutBtn">Ã‡Ä±kÄ±ÅŸ Yap</button>
  </div>

  <div class="section">
    <h1>HoÅŸgeldin ðŸ”¥</h1>
    <p>IP: play.fireboxx.xyz</p>
  </div>
</div>

<script>
let isRegister=false;

/* UI SWITCH */
switchBtn.onclick=()=>{
  isRegister=!isRegister;
  password2.style.display=isRegister?"block":"none";
  loginBtn.style.display=isRegister?"none":"block";
  registerBtn.style.display=isRegister?"block":"none";
  switchBtn.innerText=isRegister?"Zaten hesabÄ±n var mÄ±? GiriÅŸ yap":"HesabÄ±n yok mu? KayÄ±t ol";
  error.innerText="";
};

/* REGISTER */
registerBtn.onclick=()=>{
  if(password.value!==password2.value){
    error.innerText="Åžifreler uyuÅŸmuyor";
    return;
  }
  auth.createUserWithEmailAndPassword(email.value,password.value)
  .then(u=>{
    u.user.sendEmailVerification();
    alert("Mail doÄŸrulandÄ±ktan sonra giriÅŸ yapabilirsin ðŸ“§");
    auth.signOut();
  })
  .catch(e=>error.innerText=e.message);
};

/* LOGIN */
loginBtn.onclick=()=>{
  auth.signInWithEmailAndPassword(email.value,password.value)
  .catch(()=>error.innerText="Email veya ÅŸifre hatalÄ±");
};

/* LOGOUT (NET & TEK) */
logoutBtn.onclick=()=>{
  auth.signOut().then(()=>{
    site.style.display="none";
    login.style.display="flex";
  });
};

/* AUTH STATE â€” TEK SORUMLULUK */
auth.onAuthStateChanged(user=>{
  if(user && user.emailVerified){
    login.style.display="none";
    site.style.display="block";
  }else{
    site.style.display="none";
    login.style.display="flex";
  }
});
</script>

</body>
</html>
