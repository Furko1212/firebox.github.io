<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FireboxMC | GiriÅŸ</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyBsjuMnS6RiFPlfA4CgkDve7EXoLlLbuE",
  authDomain: "firebox-e62b3.firebaseapp.com",
  projectId: "firebox-e62b3"
});
const auth = firebase.auth();
</script>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:radial-gradient(circle at top,#1a1a1a,#000);
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  color:white;
}

#login-box{
  width:380px;
  background:#0b0b0b;
  padding:32px;
  border-radius:18px;
  box-shadow:0 0 35px rgba(255,140,0,0.35);
}

.logo{
  text-align:center;
  margin-bottom:18px;
}
.logo img{
  width:140px;
  filter:drop-shadow(0 0 25px orange);
}

input{
  width:100%;
  padding:12px;
  margin-bottom:12px;
  border:none;
  border-radius:8px;
  background:#1e1e1e;
  color:white;
  font-size:15px;
}
input::placeholder{color:#aaa}

button{
  width:100%;
  padding:12px;
  background:linear-gradient(135deg,#ff8c00,#ff3300);
  border:none;
  border-radius:8px;
  color:white;
  font-size:16px;
  font-weight:bold;
  cursor:pointer;
}
button:hover{
  background:linear-gradient(135deg,#ffaa00,#ff5500);
}

.switch{
  text-align:center;
  margin-top:10px;
  color:#aaa;
  cursor:pointer;
}
.switch:hover{color:white}

#error{
  color:#ff6666;
  text-align:center;
  margin-bottom:10px;
}
</style>
</head>

<body>

<div id="login-box">
  <div class="logo">
    <img src="img/logo.png" alt="Firebox Logo">
  </div>

  <div id="error"></div>

  <input id="email" type="email" placeholder="Email">
  <input id="password" type="password" placeholder="Åžifre">
  <input id="password2" type="password" placeholder="Åžifre (Tekrar)" style="display:none">

  <button id="loginBtn">GiriÅŸ Yap</button>
  <button id="registerBtn" style="display:none">KayÄ±t Ol</button>

  <div class="switch" id="switchBtn">HesabÄ±n yok mu? KayÄ±t ol</div>
</div>

<script>
let isRegister=false;

/* Switch */
switchBtn.onclick=()=>{
  isRegister=!isRegister;
  password2.style.display=isRegister?"block":"none";
  loginBtn.style.display=isRegister?"none":"block";
  registerBtn.style.display=isRegister?"block":"none";
  switchBtn.innerText=isRegister
    ?"Zaten hesabÄ±n var mÄ±? GiriÅŸ yap"
    :"HesabÄ±n yok mu? KayÄ±t ol";
  error.innerText="";
};

/* Register */
registerBtn.onclick=()=>{
  if(password.value!==password2.value){
    error.innerText="Åžifreler uyuÅŸmuyor";
    return;
  }
  auth.createUserWithEmailAndPassword(email.value,password.value)
  .then(u=>{
    u.user.sendEmailVerification();
    alert("Mail doÄŸrulama gÃ¶nderildi ðŸ“§");
    auth.signOut();
  })
  .catch(e=>error.innerText=e.message);
};

/* Login */
loginBtn.onclick=()=>{
  auth.signInWithEmailAndPassword(email.value,password.value)
  .then(u=>{
    if(!u.user.emailVerified){
      error.innerText="Email doÄŸrulanmamÄ±ÅŸ";
      auth.signOut();
    }else{
      window.location.href="site.html";
    }
  })
  .catch(()=>error.innerText="Email veya ÅŸifre hatalÄ±");
};

/* Enter tuÅŸu */
document.addEventListener("keydown",e=>{
  if(e.key==="Enter"){
    isRegister ? registerBtn.click() : loginBtn.click();
  }
});
</script>

</body>
</html>
